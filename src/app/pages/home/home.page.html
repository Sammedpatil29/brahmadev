<ion-content [fullscreen]="true" class="ion-padding-top">
  <div class="header-container d-flex justify-content-between align-items-center px-4 py-3">
    <div class="greeting-box">
      <small class="text-muted d-block">Welcome back,</small>
      <b class="text-dark h5">{{greeting}}</b>
    </div>
    <div class="logout-btn" (click)="logout()">
      <svg xmlns="http://www.w3.org/2000/svg" height="28px" viewBox="0 -960 960 960" width="28px" fill="#d71d1d">
        <path d="M480-120q-75 0-140.5-28.5t-114-77q-48.5-48.5-77-114T120-480q0-75 28.5-140.5t77-114q48.5-48.5 114-77T480-840v80q-117 0-198.5 81.5T200-480q0 117 81.5 198.5T480-200v80Zm160-160-56-57 103-103H360v-80h327L584-624l56-56 200 200-200 200Z"/>
      </svg>
    </div>
  </div>

  <div class="px-3 pt-2 w-100 d-flex align-items-center justify-content-center">
    <img class="main-logo" src="assets/Brahmadev Constructions.png" alt="Logo">
  </div>

  <!-- <div class="swipe-container mt-3">
    @for (todayLead of lead?.todayLeads; track todayLead?.id) {
      <div class="swipe-item">
        <app-lead-card [lead]="todayLead"></app-lead-card>
      </div>
    }
  </div> -->

  

  <div class="m-3">
    <div class="row g-3"> 
      <div class="col-6">
        <div class="menu-card" (click)="navigate('add-visit')">
          <div class="icon-wrapper bg-soft-blue">
            <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#0d6efd"><path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"/></svg>
          </div>
          <div class="menu-label">Add New Visit</div>
        </div>
      </div>

      <div class="col-6">
        <div class="menu-card" (click)="navigate('history')">
          <div class="icon-wrapper bg-soft-purple">
            <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#6f42c1"><path d="M480-80q-155 0-269-103T82-440h81q15 121 105.5 200.5T480-160q134 0 227-93t93-227q0-134-93-227t-227-93q-86 0-159.5 42.5T204-640h116v80H88q29-140 139-230t253-90q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm112-232L440-464v-216h80v184l128 128-56 56Z"/></svg>
          </div>
          <div class="menu-label">Visit History</div>
        </div>
      </div>

      <div class="col-6">
        <div class="menu-card position-relative" (click)="navigate('leads')">
          <div class="icon-wrapper bg-soft-orange">
             <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#fd7e14"><path d="M280-408q-29.67 0-50.83-21.17Q208-450.33 208-480q0-29.67 21.17-50.83Q250.33-552 280-552q29.67 0 50.83 21.17Q352-509.67 352-480q0 29.67-21.17 50.83Q309.67-408 280-408Zm0 168q-100 0-170-70T40-480q0-100 70-170t170-70q70.33 0 124.5 33.67 54.17 33.66 85.5 97.66h354.67L960-473.33l-171.33 162L703.33-374 618-311.33l-78.33-60H490q-27.33 58-81.17 94.66Q355-240 280-240Zm0-66.67q57.33 0 104.17-37Q431-380.67 445-438h117.67L618-394.33l86-62.34L782.33-397 864-474.67 816.67-522H445q-12.67-54.67-58.83-93Q340-653.33 280-653.33q-72 0-122.67 50.66Q106.67-552 106.67-480t50.66 122.67Q208-306.67 280-306.67Z"/></svg>
          </div>
          <div class="menu-label">Leads</div>
          <div class="custom-badge">
            @if (!isLoading) { <span>{{lead.count}}</span> } 
            @else { <div class="spinner-border spinner-border-sm" style="height: 10px; width: 10px"></div> }
          </div>
        </div>
      </div>

      <div class="col-6">
        <div class="menu-card" (click)="navigate('quotation')">
          <div class="icon-wrapper bg-soft-green">
            <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#198754"><path d="M186.67-186.67h586.66V-559L559-773.33H186.67v586.66Zm0 66.67q-27.5 0-47.09-19.58Q120-159.17 120-186.67v-586.66q0-27.5 19.58-47.09Q159.17-840 186.67-840h400L840-586.67v400q0 27.5-19.58 47.09Q800.83-120 773.33-120H186.67Zm92.66-167.33h401.34V-354H279.33v66.67Zm0-159.34h401.34v-66.66H279.33v66.66Zm0-159.33h277.34v-66.67H279.33V-606Zm-92.66 419.33v-586.66 586.66Z"/></svg>
          </div>
          <div class="menu-label">Generate Quote</div>
        </div>
      </div>

      <div class="col-6">
        <div class="menu-card disabled-card" (click)="navigate('invoice')">
          <div class="icon-wrapper bg-light">
            <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#999"><path d="M228-80q-45.83 0-77.92-32.08Q118-144.17 118-190v-123.33h124.67V-880l59.86 60 59.87-60 59.87 60 59.86-60L542-820l60-60 60 60 60-60 60 60 60-60v690q0 45.83-32.08 77.92Q777.83-80 732-80H228Zm504-66.67q19 0 31.17-12.16Q775.33-171 775.33-190v-583.33h-466v460h379.34V-190q0 19 12.16 31.17Q713-146.67 732-146.67Zm-374-468v-66.66h240v66.66H358Zm0 129.34V-552h240v66.67H358Zm328.67-129.34q-13.67 0-23.5-9.83-9.84-9.83-9.84-23.5t9.84-23.5q9.83-9.83 23.5-9.83 13.66 0 23.5 9.83Q720-661.67 720-648t-9.83 23.5q-9.84 9.83-23.5 9.83Zm0 126q-13.67 0-23.5-9.83-9.84-9.83-9.84-23.5t9.84-23.5q9.83-9.83 23.5-9.83 13.66 0 23.5 9.83Q720-535.67 720-522t-9.83 23.5q-9.84 9.83-23.5 9.83Zm-459.34 342H622v-100H184.67V-190q0 19 12.26 31.17 12.27 12.16 30.4 12.16Zm-42.66 0v-100 100Z"/></svg>
          </div>
          <div class="menu-label">Generate Invoice</div>
          <div class="lock-icon"><svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="#434343"><path d="M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm240-200q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80Z"/></svg></div>
        </div>
      </div>
    </div>
  </div>

  <!-- <div class="text-center mt-4 mb-2">
    <div class="date-badge mb-1">{{ today | date:'dd MMM yyyy | hh:mm a' : '+0530' }}</div>
    @if (lead?.left != 14) {
      <div class="progress-text">
      <span class="highlight">{{lead?.left}}</span> / 14 Days Completed
    </div> 
    } @else if (lead?.left == 15) {
      <div class="progress-text">
      <span class="highlight text-danger">Closed Test Failed!</span>
    </div>
    } @else {
      <div class="progress-text">
      <span class="highlight text-success">Closed Test Completed!</span>
    </div>
    }
  </div> -->
</ion-content>